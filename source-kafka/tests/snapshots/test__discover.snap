---
source: tests/test.rs
expression: snap
---
{
  "documentSchema": {
    "properties": {
      "_meta": {
        "properties": {
          "offset": {
            "description": "The offset of the message within the partition",
            "type": "integer"
          },
          "partition": {
            "description": "The partition the message was read from",
            "type": "integer"
          },
          "topic": {
            "description": "The topic the message was read from",
            "type": "string"
          }
        },
        "required": [
          "offset",
          "partition"
        ],
        "type": "object"
      },
      "idx": {
        "type": "integer"
      },
      "nested": {
        "properties": {
          "sub_id": {
            "type": "integer"
          }
        },
        "required": [
          "sub_id"
        ],
        "type": "object"
      }
    },
    "required": [
      "_meta",
      "idx",
      "nested"
    ],
    "type": "object",
    "x-infer-schema": true
  },
  "key": [
    "/idx",
    "/nested/sub_id"
  ],
  "recommendedName": "test-topic-1",
  "resourceConfig": {
    "topic": "test-topic-1"
  },
  "resourcePath": [
    "test-topic-1"
  ]
}
{
  "documentSchema": {
    "properties": {
      "_meta": {
        "properties": {
          "offset": {
            "description": "The offset of the message within the partition",
            "type": "integer"
          },
          "partition": {
            "description": "The partition the message was read from",
            "type": "integer"
          },
          "topic": {
            "description": "The topic the message was read from",
            "type": "string"
          }
        },
        "required": [
          "offset",
          "partition"
        ],
        "type": "object"
      },
      "idx": {
        "type": "integer"
      },
      "nested": {
        "properties": {
          "sub_id": {
            "type": "integer"
          }
        },
        "required": [
          "sub_id"
        ],
        "title": "NestedJsonKeyRecord",
        "type": "object"
      }
    },
    "required": [
      "_meta",
      "idx",
      "nested"
    ],
    "type": "object",
    "x-infer-schema": true
  },
  "key": [
    "/idx",
    "/nested/sub_id"
  ],
  "recommendedName": "test-topic-2",
  "resourceConfig": {
    "topic": "test-topic-2"
  },
  "resourcePath": [
    "test-topic-2"
  ]
}
{
  "documentSchema": {
    "properties": {
      "_meta": {
        "properties": {
          "offset": {
            "description": "The offset of the message within the partition",
            "type": "integer"
          },
          "partition": {
            "description": "The partition the message was read from",
            "type": "integer"
          },
          "topic": {
            "description": "The topic the message was read from",
            "type": "string"
          }
        },
        "required": [
          "offset",
          "partition"
        ],
        "type": "object"
      }
    },
    "required": [
      "_meta"
    ],
    "type": "object",
    "x-infer-schema": true
  },
  "key": [
    "/_meta/partition",
    "/_meta/offset"
  ],
  "recommendedName": "test-topic-3",
  "resourceConfig": {
    "topic": "test-topic-3"
  },
  "resourcePath": [
    "test-topic-3"
  ]
}

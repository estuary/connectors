{
  "type": ["object"],
  "required": ["id"],
  "properties": {
    "events": {
      "type": ["null", "array"],
      "items": {
        "type": ["null", "object"],
        "properties": {
          "attachments": { "$ref": "attachments.json" },
          "created_at": {
            "type": ["null", "string"],
            "format": "date-time"
          },
          "data": {
            "type": ["null", "object"],
            "properties": {
              "transcription_status": {
                "type": ["null", "string"]
              },
              "transcription_text": {
                "type": ["null", "string"]
              },
              "to": {
                "type": ["null", "string"]
              },
              "call_duration": {
                "type": ["null", "number"]
              },
              "answered_by_name": {
                "type": ["null", "string"]
              },
              "recording_url": {
                "type": ["null", "string"]
              },
              "started_at": {
                "type": ["null", "string"],
                "format": "date-time"
              },
              "answered_by_id": {
                "type": ["null", "integer"]
              },
              "from": {
                "type": ["null", "string"]
              }
            }
          },
          "formatted_from": {
            "type": ["null", "string"]
          },
          "formatted_to": {
            "type": ["null", "string"]
          },
          "transcription_visible": {
            "type": ["null", "boolean"]
          },
          "trusted": {
            "type": ["null", "boolean"]
          },
          "html_body": {
            "type": ["null", "string"]
          },
          "subject": {
            "type": ["null", "string"]
          },
          "field_name": {
            "type": ["null", "string"]
          },
          "audit_id": {
            "type": ["null", "integer"]
          },
          "value": {
            "oneOf": [
              {
                "type": "array",
                "items": {
                  "type": ["null", "string"]
                }
              },
              {
                "type": "object",
                "properties": {},
                "additionalProperties": true
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              },
              {
                "type": "integer"
              }
            ]
          },
          "author_id": {
            "type": ["null", "integer"]
          },
          "via": {
            "properties": {
              "channel": {
                "type": ["null", "string"]
              },
              "source": {
                "properties": {
                  "to": {
                    "properties": {
                      "address": {
                        "type": ["null", "string"]
                      },
                      "name": {
                        "type": ["null", "string"]
                      }
                    },
                    "type": ["null", "object"]
                  },
                  "from": {
                    "properties": {
                      "title": {
                        "type": ["null", "string"]
                      },
                      "address": {
                        "type": ["null", "string"]
                      },
                      "subject": {
                        "type": ["null", "string"]
                      },
                      "deleted": {
                        "type": ["null", "boolean"]
                      },
                      "name": {
                        "type": ["null", "string"]
                      },
                      "original_recipients": {
                        "items": {
                          "type": ["null", "string"]
                        },
                        "type": ["null", "array"]
                      },
                      "id": {
                        "type": ["null", "integer"]
                      },
                      "ticket_id": {
                        "type": ["null", "integer"]
                      },
                      "revision_id": {
                        "type": ["null", "integer"]
                      }
                    },
                    "type": ["null", "object"]
                  },
                  "rel": {
                    "type": ["null", "string"]
                  }
                },
                "type": ["null", "object"]
              }
            },
            "type": ["null", "object"]
          },
          "type": {
            "type": ["null", "string"]
          },
          "macro_id": {
            "type": ["null", "string"]
          },
          "body": {
            "type": ["null", "string", "object", "array"],
            "properties": {
                "html_url": {
                    "type": ["null", "string"]
                },
                "id": {
                    "type": ["null", "integer"]
                },
                "locale": {
                    "type": ["null", "string"]
                },
                "title": {
                    "type": ["null", "string"]
                },
                "url": {
                    "type": ["null", "string"]
                }
            },
            "items": {
                "type": ["null", "object"],
                "properties": {
                    "article": {
                        "type": ["null", "object"],
                        "properties": {
                            "article_id": {
                                "type": ["null", "integer"]
                            },
                            "brand_id": {
                                "type": ["null", "integer"]
                            },
                            "html_url": {
                                "type": ["null", "string"]
                            },
                            "id": {
                                "type": ["null", "integer"]
                            },
                            "locale": {
                                "type": ["null", "string"]
                            },
                            "score": {
                                "type": ["null", "number"]
                            },
                            "title": {
                                "type": ["null", "string"]
                            },
                            "url": {
                                "type": ["null", "string"]
                            }
                        }
                    },
                    "reviews": {
                        "type": ["null", "object"],
                        "properties": {
                            "agent": {
                                "type": ["null", "array"],
                                "items": {
                                    "type": ["null", "string"]
                                }
                            },
                            "enduser": {
                                "type": ["null", "object"],
                                "properties": {
                                    "reason": {
                                        "type": ["null", "string"]
                                    },
                                    "user_id": {
                                        "type": ["null", "integer"]
                                    }
                                }
                            }
                        }
                    },
                    "viewed": {
                        "type": ["null", "boolean"]
                    }
                }
            }
          },
          "recipients": {
            "type": ["null", "array"],
            "items": {
              "type": ["null", "integer"]
            }
          },
          "macro_deleted": {
            "type": ["null", "boolean"]
          },
          "plain_body": {
            "type": ["null", "string"]
          },
          "id": {
            "type": ["null", "integer"]
          },
          "previous_value": {
            "type": ["null", "string", "array", "object"],
            "items": {
                "type": ["null", "string"]
            },
            "properties": {
                "in_business_hours": {
                    "type": ["null", "boolean"]
                },
                "minute": {
                    "type": ["null", "integer"]
                },
                "seconds": {
                    "type": ["null", "integer"]
                }
            }
          },
          "macro_title": {
            "type": ["null", "string"]
          },
          "public": {
            "type": ["null", "boolean"]
          },
          "resource": {
            "type": ["null", "string"]
          }
        }
      }
    },
    "author_id": {
      "type": ["null", "integer"]
    },
    "metadata": { "$ref": "metadata.json" },
    "id": {
      "type": "integer"
    },
    "created_at": {
      "type": ["null", "string"],
      "format": "date-time"
    },
    "ticket_id": {
      "type": ["null", "integer"]
    },
    "via": {
      "type": ["null", "object"],
      "properties": {
        "channel": {
          "type": ["null", "string"]
        },
        "source": {
          "type": ["null", "object"],
          "properties": {
            "from": {
              "type": ["null", "object"],
              "properties": {
                "ticket_ids": {
                  "type": ["null", "array"],
                  "items": {
                    "type": ["null", "integer"]
                  }
                },
                "subject": {
                  "type": ["null", "string"]
                },
                "name": {
                  "type": ["null", "string"]
                },
                "address": {
                  "type": ["null", "string"]
                },
                "original_recipients": {
                  "type": ["null", "array"],
                  "items": {
                    "type": ["null", "string"]
                  }
                },
                "id": {
                  "type": ["null", "integer"]
                },
                "ticket_id": {
                  "type": ["null", "integer"]
                },
                "deleted": {
                  "type": ["null", "boolean"]
                },
                "title": {
                  "type": ["null", "string"]
                }
              }
            },
            "to": {
              "type": ["null", "object"],
              "properties": {
                "name": {
                  "type": ["null", "string"]
                },
                "address": {
                  "type": ["null", "string"]
                }
              }
            },
            "rel": {
              "type": ["null", "string"]
            }
          }
        }
      }
    }
  }
}

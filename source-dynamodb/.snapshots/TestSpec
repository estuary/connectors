{
  "config_schema_json": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://github.com/estuary/connectors/source-dynamodb/config",
    "properties": {
      "region": {
        "type": "string",
        "title": "Region",
        "description": "Region of the DynamoDB table.",
        "order": 1
      },
      "credentials": {
        "oneOf": [
          {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "https://github.com/estuary/connectors/source-dynamodb/access-key-credentials",
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "AWSAccessKey",
                "default": "AWSAccessKey",
                "order": 0
              },
              "aws_access_key_id": {
                "type": "string",
                "title": "AWS Access Key ID",
                "description": "AWS Access Key ID for capturing from the DynamoDB table.",
                "order": 1
              },
              "aws_secret_access_key": {
                "type": "string",
                "title": "AWS Secret Access key",
                "description": "AWS Access Key ID for capturing from the DynamoDB table.",
                "order": 2,
                "secret": true
              }
            },
            "type": "object",
            "required": [
              "aws_access_key_id",
              "aws_secret_access_key"
            ],
            "title": "Access Key"
          },
          {
            "$schema": "https://json-schema.org/draft/2020-12/schema",
            "$id": "https://github.com/estuary/connectors/go/auth/iam/aws-config",
            "properties": {
              "auth_type": {
                "type": "string",
                "const": "AWSIAM",
                "default": "AWSIAM",
                "order": 0
              },
              "aws_region": {
                "type": "string",
                "title": "AWS Region",
                "description": "AWS Region of your resource"
              },
              "aws_role_arn": {
                "type": "string",
                "title": "AWS Role ARN",
                "description": "AWS Role which has access to the resource which will be assumed by Flow"
              }
            },
            "type": "object",
            "required": [
              "aws_region",
              "aws_role_arn"
            ],
            "title": "AWS IAM"
          }
        ],
        "type": "object",
        "title": "Authentication",
        "default": {
          "auth_type": "AWSAccessKey"
        },
        "discriminator": {
          "propertyName": "auth_type"
        },
        "order": 2,
        "x-iam-auth": true
      },
      "advanced": {
        "properties": {
          "backfillSegments": {
            "type": "integer",
            "title": "Backfill Table Segments",
            "description": "Number of segments to use for backfill table scans. Has no effect if changed after the backfill has started."
          },
          "scanLimit": {
            "type": "integer",
            "title": "Scan Limit",
            "description": "Limit the number of items to evaluate for each table backfill scan request."
          },
          "endpoint": {
            "type": "string",
            "title": "AWS Endpoint",
            "description": "The AWS endpoint URI to connect to. Use if you're capturing from a compatible API that isn't provided by AWS."
          }
        },
        "additionalProperties": false,
        "type": "object",
        "title": "Advanced Options",
        "description": "Options for advanced users. You should not typically need to modify these."
      }
    },
    "type": "object",
    "required": [
      "region",
      "credentials"
    ],
    "title": "Source DynamoDB Spec"
  },
  "resource_config_schema_json": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://github.com/estuary/connectors/source-dynamodb/resource",
    "properties": {
      "table": {
        "type": "string",
        "title": "Table Name",
        "description": "The name of the table to be captured."
      },
      "rcuAllocation": {
        "type": "integer",
        "title": "RCU Allocation",
        "description": "Read capacity units the capture will attempt to consume during the table backfill. Leave blank to automatically determine based on the provisioned capacity of the table."
      }
    },
    "type": "object",
    "required": [
      "table"
    ],
    "title": "Resource"
  },
  "documentation_url": "https://go.estuary.dev/source-dynamodb",
  "resource_path_pointers": [
    "/table"
  ]
}
